# Тестовое задание №1

Авиакомпании, помимо непосредственно продаж авиабилетов, зарабатывают еще и на продажах дополнительных услуг – возможности заранее забронировать себе место на верхней палубе самолета, ну или просто место с дополнительным местом для ног.

### Задача

Требуется предсказать спрос на доп. услуги для рейсов с помощью любых open source python библиотек.

#### Описание данных:
- `Откудаё`и `куда` – коды аэропортов.  
- `ВС` – тип воздушного судна  
- `Мест на рейсе` – максимально доступное количество мест.  
- `Тип услуги` – название продаваемой услуги.  
- `Доступных мест услуги` – количество доступных мест этого типа на рейсе.  
- `Цена` – стоимость услуги в рублях.  


### План работы
1. [Первичный осмотр данных](#download)
2. [Анализ данных](#EDA)  
    2.1 [Анализ распределения данных во времени](#time)  
    2.2 [Aнализ данных с группировкой](group)      
    2.3 [Анализ корреляции данных](#cor)  
    2.4 [Выводы по анализу данных](#ac)  
3. [Построение модели](#model)  
    3.1 [Подготовка датасета](#model)  
    3.2 [CatBoost](#cat)  
    3.3 [LinearRegression](#LR)  
    3.4 [LGBM](#LGBM)  
4. [Выводы](#concl)

 ### Стэк  

- pandas
- numpy
- matplotlib
- seaborn
- sklearn
- CatBoost
- LGBM
    
    
 ### Вывод <a id='concl'></a>

В данной работе был выполнен анализ данных, в ходе которого выявлены зависимости:

1. Часть услуг торгуется только при вылете определенными аэропортами.
2. Некоторые услуги доступны только при полетах определенной длительности.
3. Большинство аэропортов принимает только суда типа ВС2. При этом маршруты средней и высокой дальности доступны только ВС1. 
4. Среди числовых данных корреляцию показывает только цена в разрезе длительности полета. Цена услуги определяется в первую очередь пунктом отправки и длительностью полета. Существенного изменения цены во времени нет.
5. Есть отсутствующие данные за определенные периоды времени
6. Услуги имеют различную среднюю конверсию и доступны не на всех аэропортах, типах ВС и дальностях полетов. 

Учитывая сниженную конверсию для A,S и SU на полетах 3-6 часов имеет смысл повысить их рентабельность, например снизив цену за данные услуги.

Для предсказания были выбраны три наиболее распространенные модели - CatBoostRegressor, LGMBRegressor, LinearRegression. 
На выбранном датасете наилучшие показатели удалось достичь модели на основе CatBoost.


```python

```
